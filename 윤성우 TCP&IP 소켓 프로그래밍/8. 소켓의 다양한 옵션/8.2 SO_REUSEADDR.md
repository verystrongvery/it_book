time wait 상태
- TCP 연결을 종료할 때, 연결을 종료한 후에도 일정 시간 동안 연결 정보를 유지하는 상태를 의미 합니다.
- 먼저 연결 종료 요청을 하는 소켓에서만 발생하는 상태 입니다.
time wait 상태가 존재하는 이유
- 먼저 연결 종료 요청을 하는 소켓을 A, 연결 종료 요청을 받는 소켓을 B라고 가정하겠습니다.
- B가 A로 FIN 패킷을 보내고, FIN 패킷을 받았다는 것을 알리기 위해 A가 B에게 ACK 패킷을 보내는 상황입니다.
- ACK 패킷이 B 에게 전달되지 않았다면, B는 A에게 다시 FIN 패킷을 보냅니다.
- 하지만 time wait 상태가 존재하지 않아 A가 바로 종료 된다면, B는 영원히 ACK 패킷을 받지 못하게 됩니다.
SO_REUSEADDR
- time wait 상태에 있는 소켓의 포트번호 할당의 가능 여부를 나타내는 옵션을 의미 합니다.
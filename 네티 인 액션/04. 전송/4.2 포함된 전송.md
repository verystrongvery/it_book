네티의 여러가지 전송
- 모든 전송이 모든 프로토콜을 지원하지 않기 때문에, 애플리케이션에서 이용하는 프로토콜과 호환되는 전송을 선택해야 합니다.
NIO 셀렉터의 4가지 상태
- 새로운 Channel이 수락된 상태
- Channel이 연결된 상태
- Channel이 데이터를 읽을 수 있는 상태
- Channel이 데이터를 쓸 수 있는 상태
NIO 셀렉터의 흐름
1. 새로운 채널을 셀렉터에 등록합니다.
2. 셀렉터가 관리하는 채널의 상태가 변화가 있을때까지 대기합니다.
3. 상태 변화를 감지하면, 해당 채널의 상태에 따라 처리합니다.
select 기반의 IO 멀티플렉싱이 느린 이유
- select 함수 호출 이후, 매번 모든 파일 디스크립터를 순회하면서 상태를 확인해야 합니다.
- select 함수 호출 이후, 매번 관찰 대상의 정보를 전달해야 합니다.
네티의 전송 패키지: NIO
- java.nio.channels 패키지를 사용하여 네티의 전송을 구현합니다.
-- 셀렉터 기반의 API를 제공 합니다.
epoll의 장점
- 매번 모든 파일 디스크립터를 순회하지 않아도 됩니다.
- 매번 관찰 대상의 정보를 전달하지 않아도 됩니다
네티의 전송 패키지: epoll
- epoll()과 논블로킹 입출력을 위해 JNI를 사용하여 네티의 전송을 구현합니다.
- 리눅스에서만 사용 가능합니다.
- NIO 보다 빠릅니다.
네티의 전송 패키지: OIO
- java.net 패키지를 사용하여 네티의 전송을 구현합니다.
- 비동기 입출력을 지원하지 않습니다.
네티의 전송 패키지: Local
- 동일한 JVM 내에서 실행되는 클라이언트와 서버 간 비동기 통신을 위한 로컬 전송을 제공 합니다.
네티의 전송 패키지: Embedded
- 실제 네트워크 기반 전송 없이 ChannelHandler를 이용할 수 있게 해주는 임베디드 전송을 제공 합니다.
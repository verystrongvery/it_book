EventLoop
- 네트워크 연결의 수명 기간 동안 발생하는 이벤트를 처리하는 인터페이스를 의미합니다.
EventLoop 설계
- 동시성과 네트워킹의 두 가지 기본 API를 공동으로 활용해 설계 되었습니다.
- 변경되지 않는 쓰레드 하나로 실행됩니다.
- 작업(Runnable 또는 Callable)을 EventLoop을 통해 즉시 또는 예약 실행할 수 있습니다.
- 리소스 활용을 최적화하기 위해 여러 EventLoop가 생성될 수도 있고, 단일 EventLoop가 생성될 수도 있습니다.
네티3의 입출력 작업
- 인바운드 이벤트만 입출력 스레드에서 실행됩니다.
- 아웃바운드 이벤트는 다른 스레드에서 실행됩니다.
- ChannelHandler에서 아웃바운드 이벤트를 세심하게 동기화해야 합니다.
네티4의 입출력 작업
- 네티4의 모든 입출력 작업과 이벤트는 EventLoop에 할당된 쓰레드에 의해 처리됩니다.
- 네티 3의 문제를, EventLoop에서 발생항 모든 것을 동일한 스레드에서 처리하는 방법으로 문제를 해결했습니다.
- ChannelHandler에서 동기화에 대한 걱정을 하지 않아도 됩니다.